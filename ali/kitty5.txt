Dr. John: Why'd you do this?
Mycroft:  Because He had the nuclear codes
Dr. John: and in return you told him Sherlock's life story
Mycroft: I had to.....
Dr. John: so you've made the mistake and now Sherlock's life is in danger....
Dr. John: Moriarty wanted sherlock destroyed and you gave him the perfect
ammunition